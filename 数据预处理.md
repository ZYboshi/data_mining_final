# 数据预处理
> 数据集:bank-marketing

## 数据集信息:
* 任务类型: 二分类问题（客户是否订阅定期存款）
* 样本数量: 约45,211个样本
* 特征数量: 17个特征（包括目标变量）

演示数据:
```text
V1,V2,V3,V4,V5,V6,V7,V8,V9,V10,V11,V12,V13,V14,V15,V16,Class
58,management,married,tertiary,no,2143,yes,no,unknown,5,may,261,1,-1,0,unknown,1
44,technician,single,secondary,no,29,yes,no,unknown,5,may,151,1,-1,0,unknown,1
33,entrepreneur,married,secondary,no,2,yes,yes,unknown,5,may,76,1,-1,0,unknown,1
47,blue-collar,married,unknown,no,1506,yes,no,unknown,5,may,92,1,-1,0,unknown,1
33,unknown,single,unknown,no,1,no,no,unknown,5,may,198,1,-1,0,unknown,1
```

## 数据预处理：
### 重命名列名
> 这一步可以不做，直接用列名映射也是可以的
```python
# 定义列名映射
column_names = {
    'V1': 'age',
    'V2': 'job',
    'V3': 'marital',
    'V4': 'education',
    'V5': 'default',
    'V6': 'balance',
    'V7': 'housing',
    'V8': 'loan',
    'V9': 'contact',
    'V10': 'day',
    'V11': 'month',
    'V12': 'duration',
    'V13': 'campaign',
    'V14': 'pdays',
    'V15': 'previous',
    'V16': 'poutcome',
    'Class': 'deposit'  # 标准数据集是 'y'，这里标注为存款意向
}

# 重命名列
data = data.rename(columns=column_names)
print("重命名后的列名:", list(data.columns))

```

### 数据探索
> 搞清楚数据集中每一个部分是什么意思

* 数据形状: (45211, 17)  
* 每一列:数据类型:data.dtype   有文本数据需要将文本数据转换为int64
* 缺失值：data.isnull().sum()；这个数据集虽然没有缺失值，但是有unkown部分，需要进行编码
* **类别型变量** :value_counts()
```python
marital:
marital
married     27214
single      12790
divorced     5207
Name: count, dtype: int64

education:
education
secondary    23202
tertiary     13301
primary       6851
unknown       1857
Name: count, dtype: int64
```
### 缺失值处理:
> 缺失值分析函数: data_process.py -> analyze_missing_data()\
> 缺失值处理函数:data_process.py -> handle_missing_values(data)
> 缺失值信息文件: ./dataset/missing_value_analysis.json

有缺失值的类以及其处理方法:
* 直接删除
* 替换为众数
* 保留为单独类别
* 删除该列
___
下面我为每一个需要处理缺失值的类挑选方法

1. job（缺失0.64%）
    * 删除这288行
2. education（缺失4.11%）
    * 用众数填充
3. contact（缺失28.8%）
    * 保留为"unknown contact"类别
4. poutcome（缺失81.75%）
    * 删除该列


### 特征工程
> 主要任务:
> 1. 处理类别特征(主要是文本):\
> 将文本标签（如'yes','no'）转换为数值\
> 方法:使用独热编码或标签编码处理多类别特征\
> 2. 处理特殊字段:\
> 处理pdays列中-1值（表示没有上次联系）\
> 处理类别中过多的'unknown'值\

1. 类别分类
 * 我这里统一使用类别编码（就是用1,2,3,4来代表类别），主要是按照独热编码表示类别这个维度有点高，训练得会很慢。我在寒假的时候会优化这一部分内容，将类别编码切换成独热编码

